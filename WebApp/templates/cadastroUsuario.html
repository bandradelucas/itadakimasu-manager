<div class="row">
    <div class="col-xs-12">
        <div class="text-center">
            <h2><span class="glyphicon glyphicon-ok"></span> Cadastro de usuario</h2>
        </div>
    </div>
</div>
<hr />
<div class="row">
    <div class="col-xs-12">
        <h3>Dados pessoais<small> informações relacionados ao usuario</small></h3>
    </div>
</div>
<form name="form" novalidate>
    <div class="row" style="margin-top:20px;">
        <div class="col-xs-12">
            <div class="row">
                <div class="col-xs-6">
                    <div class="form-group">
                        <div ng-class="{'has-error': form.nome.$invalid && form.nome.$touched}">
                            <label>Nome</label>
                            <input class="form-control" placeholder="Nome" ng-model="usuario.Nome" name="nome" required />
                            <p ng-show="form.nome.$invalid && form.nome.$touched" class="text-danger">Campo obrigatório</p>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6">
                    <div class="form-group">
                        <div ng-class="{'has-error': form.email.$invalid && form.email.$touched}">
                            <label>Email</label>
                            <input class="form-control" placeholder="Email" ng-model="usuario.Email" name="email" required />
                            <p ng-show="form.email.$invalid && form.email.$touched" class="text-danger">Campo obrigatório</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-4">
                    <div class="form-group">
                        <div ng-class="{'has-error': form.funcao.$invalid && form.funcao.$touched}">
                            <label>Função</label>
                            <select class="form-control" ng-options="f.value as f.funcao for f in Funcoes" ng-model="usuario.IdFuncao" name="funcao" required>
                                <option value="">Selecione uma opção...</option>
                            </select>
                            <p ng-show="form.funcao.$invalid && form.funcao.$touched" class="text-danger">Campo obrigatório</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4" ng-class="{'has-error': form.cpf.$invalid && form.cpf.$touched}">
                    <label>CPF*</label>
                    <input class="form-control" type="text" ng-model="usuario.CPF" name="cpf" placeholder="CPF" maxlength="14" required ui-cpf />
                    <p ng-show="form.cpf.$invalid && form.cpf.$touched && form.cpf.$error.required" class="text-danger small">Campo obrigatorio</p>
                    <p ng-show="(form.cpf.$invalid && form.cpf.$touched && form.cpf.$error.invalidCPF) && form.cpf.$error.required != true" class="text-danger small">CPF inválido.</p>
                </div>
                <div class="col-xs-4">
                    <div class="form-group">
                        <div ng-class="{'has-error': form.data.$invalid && form.data.$touched}">
                            <label>Data Nascimento</label>
                            <input class="form-control" type="date" placeholder="Data Nascimento" ng-model="usuario.DataNascimento" name="data" required />
                            <p ng-show="form.data.$invalid && form.data.$touched" class="text-danger">Campo obrigatório</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-xs-12">
            <h3>Dados da conta<small> informações relacionados a conta</small></h3>
        </div>
    </div>
    <div class="row" style="margin-top:20px;">
        <div class="col-xs-12">
            <div class="form-group">
                <div ng-class="{'has-error': form.login.$invalid && form.login.$touched || !validacaoLogin}">
                    <label>Login:</label>
                    <input class="form-control" type="text" ng-model="usuario.Login" placeholder="Login" name="login" required />
                    <p ng-show="form.login.$invalid && form.login.$touched" class="text-danger">Campo obrigatório</p>
                    <p ng-show="!validacaoLogin" class="text-danger">{{messageLogin}}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-6">
            <div class="form-group">
                <div ng-class="{'has-error': form.senha.$invalid && form.senha.$touched}">
                    <label>Senha:</label>
                    <input class="form-control" ng-blur="validaSenha()" type="password" ng-model="usuario.Senha" placeholder="Senha" name="senha" required />
                    <p ng-show="form.senha.$invalid && form.senha.$touched" class="text-danger">Campo obrigatório</p>
                </div>
            </div>
        </div>
        <div class="col-xs-6">
            <div class="form-group">
                <div ng-class="{'has-error': form.confirmeSenha.$invalid && form.confirmeSenha.$touched || validacao}">
                    <label>Confirme a senha:</label>
                    <input class="form-control" ng-blur="validaSenha()" type="password" ng-model="confirmaSenha" placeholder="Senha" name="confirmeSenha" required />
                    <p ng-show="form.confirmeSenha.$invalid && form.confirmeSenha.$touched" class="text-danger">Campo obrigatório</p>
                    <p ng-show="validacao" class="text-danger">A senha está diferente</p>
                </div>
            </div>
        </div>
    </div>
</form>
<div class="row">
    <div class="col-xs-12">
        <div class="pull-right">
            <button class="btn corAzul" ng-disabled="!form.$valid" ng-click="salvaUsuario(usuario)">Salvar</button>
            <a class="btn btn-default" href="#/login">Cancelar</a>
        </div>
    </div>
</div> 